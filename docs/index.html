<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@swizzyweb/swizzy-web-service</title><meta name="description" content="Documentation for @swizzyweb/swizzy-web-service"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><script async src="assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">@swizzyweb/swizzy-web-service</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>@swizzyweb/swizzy-web-service</h1></div><div class="tsd-panel tsd-typography"><h1 id="swizzywebservice" class="tsd-anchor-link">SwizzyWebService<a href="#swizzywebservice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Swizzy web service is a library for creating self contained web services. The library is object oriented and provides base implementations for all of the components necessary to get a web service up and running.</p>
<h1 id="getting-started" class="tsd-anchor-link">Getting Started<a href="#getting-started" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><h2 id="install-via-npm" class="tsd-anchor-link">Install via npm<a href="#install-via-npm" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">install</span><span class="hl-1"> --</span><span class="hl-0">registry</span><span class="hl-1">=</span><span class="hl-2">https</span><span class="hl-1">:</span><span class="hl-3">//npm.swizzyweb.com @swizzyweb/swizzy-web-service</span>
</code><button>Copy</button></pre>

<h1 id="creating-your-first-web-service" class="tsd-anchor-link">Creating your first web service<a href="#creating-your-first-web-service" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><h2 id="create-web-service" class="tsd-anchor-link">Create web service<a href="#create-web-service" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code><span class="hl-3">// ./web-service.ts</span><br/><span class="hl-3">// WebServiceStatae containing properties used by web service, routers, or controllers</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-5">interface</span><span class="hl-1"> </span><span class="hl-6">SampleBackendWebServiceState</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">yourStatePropery</span><span class="hl-1">: </span><span class="hl-7">&quot;my variable (can be any data type)&quot;</span><br/><span class="hl-1">...</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// Constructor properties, can extend base interface to get base properties</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-5">interface</span><span class="hl-1"> </span><span class="hl-6">SampleBackendWebServiceProps</span><br/><span class="hl-1">  </span><span class="hl-5">extends</span><span class="hl-1"> </span><span class="hl-6">IWebServiceProps</span><span class="hl-1">&lt;</span><span class="hl-6">SampleBackendWebServiceState</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-0">port</span><span class="hl-1">: </span><span class="hl-6">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">path</span><span class="hl-1">?: </span><span class="hl-6">string</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// Web service implementation, basically just need to inject properties</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-5">class</span><span class="hl-1"> </span><span class="hl-6">SampleBackendWebService</span><span class="hl-1"> </span><span class="hl-5">extends</span><span class="hl-1"> </span><span class="hl-6">WebService</span><span class="hl-1">&lt;</span><span class="hl-6">SampleBackendWebServiceState</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-5">constructor</span><span class="hl-1">(</span><span class="hl-0">props</span><span class="hl-1">: </span><span class="hl-6">SampleBackendWebServiceProps</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">super</span><span class="hl-1">({</span><br/><span class="hl-1">      ...</span><span class="hl-0">props</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">name:</span><span class="hl-1"> </span><span class="hl-7">&quot;SampleBackendWebService&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">path:</span><span class="hl-1"> </span><span class="hl-0">props</span><span class="hl-1">.</span><span class="hl-0">path</span><span class="hl-1">??</span><span class="hl-7">&#39;yourRootPath&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">packageName:</span><span class="hl-1"> </span><span class="hl-7">&quot;your-package-name&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">routerClasses:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-0">YourRouter</span><span class="hl-1">,</span><br/><span class="hl-1">        ...</span><br/><span class="hl-1">      ],</span><br/><span class="hl-1">      </span><span class="hl-0">middleware:</span><span class="hl-1"> [],</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>

<h2 id="create-router" class="tsd-anchor-link">Create router<a href="#create-router" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code><span class="hl-3">// ./routers/StatisticsRouter/statistics-router.ts</span><br/><br/><span class="hl-3">// Router state</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-5">interface</span><span class="hl-1"> </span><span class="hl-6">StatisticsRouterState</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">serverStartTime</span><span class="hl-1">: </span><span class="hl-6">number</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><span class="hl-3">// Router state with properties used by router and controllers</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-5">interface</span><span class="hl-1"> </span><span class="hl-6">StatisticsRouterProps</span><br/><span class="hl-1">  </span><span class="hl-5">extends</span><span class="hl-1"> </span><span class="hl-6">IWebRouterProps</span><span class="hl-1">&lt;</span><br/><span class="hl-1">    </span><span class="hl-6">SampleBackendWebServiceState</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">StatisticsRouterState</span><br/><span class="hl-1">  &gt; {}</span><br/><br/><span class="hl-3">// WebRouter implementation, wires up controllers, middleware, and state converter</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-5">class</span><span class="hl-1"> </span><span class="hl-6">StatisticsWebRouter</span><span class="hl-1"> </span><span class="hl-5">extends</span><span class="hl-1"> </span><span class="hl-6">WebRouter</span><span class="hl-1">&lt;</span><br/><span class="hl-1">  </span><span class="hl-6">SampleBackendWebServiceState</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">StatisticsRouterState</span><br/><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-5">constructor</span><span class="hl-1">(</span><span class="hl-0">props</span><span class="hl-1">: </span><span class="hl-6">StatisticsRouterProps</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">super</span><span class="hl-1">({</span><br/><span class="hl-1">      ...</span><span class="hl-0">props</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">name:</span><span class="hl-1"> </span><span class="hl-7">&quot;StatisticsWebRouter&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">path:</span><span class="hl-1"> </span><span class="hl-7">&quot;stats&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">stateConverter:</span><span class="hl-1"> </span><span class="hl-0">StatisticsRouterStateConverter</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">webControllerClasses:</span><span class="hl-1"> [</span><span class="hl-0">UpTimeController</span><span class="hl-1">],</span><br/><span class="hl-1">      </span><span class="hl-0">middleware:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-0">SwizzyRequestMiddleware</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">RequestIdMiddleware</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">RequestLoggerMiddleware</span><span class="hl-1">,</span><br/><span class="hl-1">      ],</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// State converter converting state from web service to router state.</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">StatisticsRouterStateConverter</span><span class="hl-1">: </span><span class="hl-6">StateConverter</span><span class="hl-1">&lt;</span><br/><span class="hl-1">  </span><span class="hl-6">SampleBackendWebServiceState</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">StatisticsRouterState</span><br/><span class="hl-1">&gt; = </span><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-5">function</span><span class="hl-1"> (</span><br/><span class="hl-1">  </span><span class="hl-0">props</span><span class="hl-1">: </span><span class="hl-6">StateConverterProps</span><span class="hl-1">&lt;</span><span class="hl-6">SampleBackendWebServiceState</span><span class="hl-1">&gt;,</span><br/><span class="hl-1">): </span><span class="hl-6">Promise</span><span class="hl-1">&lt;</span><span class="hl-6">StatisticsRouterState</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-4">return</span><span class="hl-1"> { ...</span><span class="hl-0">props</span><span class="hl-1">.</span><span class="hl-0">state</span><span class="hl-1"> };</span><br/><span class="hl-1">};</span>
</code><button>Copy</button></pre>

<h2 id="create-controller" class="tsd-anchor-link">Create Controller<a href="#create-controller" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code><span class="hl-3">// ./routers/StatisticsRouter/controllers/uptime-controller.ts</span><br/><span class="hl-3">// Controller state</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-5">interface</span><span class="hl-1"> </span><span class="hl-6">UpTimeControllerState</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">serverStartTime</span><span class="hl-1">: </span><span class="hl-6">number</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// Controller constructor properties</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-5">interface</span><span class="hl-1"> </span><span class="hl-6">UpTimeControllerProps</span><br/><span class="hl-1">  </span><span class="hl-5">extends</span><span class="hl-1"> </span><span class="hl-6">IWebControllerProps</span><span class="hl-1">&lt;</span><span class="hl-6">StatisticsRouterState</span><span class="hl-1">, </span><span class="hl-6">UpTimeControllerState</span><span class="hl-1">&gt; {}</span><br/><br/><span class="hl-3">// Controller implementation</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-5">class</span><span class="hl-1"> </span><span class="hl-6">UpTimeController</span><span class="hl-1"> </span><span class="hl-5">extends</span><span class="hl-1"> </span><span class="hl-6">WebController</span><span class="hl-1">&lt;</span><br/><span class="hl-1">  </span><span class="hl-6">StatisticsRouterState</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">UpTimeControllerState</span><br/><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-5">constructor</span><span class="hl-1">(</span><span class="hl-0">props</span><span class="hl-1">: </span><span class="hl-6">UpTimeControllerProps</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">super</span><span class="hl-1">({</span><br/><span class="hl-1">      ...</span><span class="hl-0">props</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">name:</span><span class="hl-1"> </span><span class="hl-7">&quot;UpTimeController&quot;</span><span class="hl-1"> </span><span class="hl-3">/**Name of controller**/</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">action:</span><span class="hl-1"> </span><span class="hl-7">&quot;uptime&quot;</span><span class="hl-1"> </span><span class="hl-3">/**last component of url**/</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">method:</span><span class="hl-1"> </span><span class="hl-0">RequestMethod</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1"> </span><span class="hl-3">/**Request method**/</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-3">/**State converter taking in router state and convert to this state**/</span><br/><span class="hl-1">      </span><span class="hl-0">stateConverter:</span><span class="hl-1"> </span><span class="hl-0">DefaultStateExporter</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">middleware:</span><span class="hl-1"> [</span><span class="hl-3">/**Any middleware to use**/</span><span class="hl-1">],</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-3">// This is where the main controller logic is handled.</span><br/><span class="hl-1">  </span><span class="hl-5">protected</span><span class="hl-1"> </span><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-9">getInitializedController</span><span class="hl-1">(</span><br/><span class="hl-3">/** This will be removed, use getState() instead **/</span><br/><span class="hl-1">    </span><span class="hl-0">props</span><span class="hl-1">: </span><span class="hl-6">IWebControllerInitProps</span><span class="hl-1">&lt;</span><span class="hl-6">StatisticsRouterState</span><span class="hl-1">&gt; &amp; {</span><br/><span class="hl-1">      </span><span class="hl-0">state</span><span class="hl-1">: </span><span class="hl-6">UpTimeControllerState</span><span class="hl-1"> | </span><span class="hl-6">undefined</span><span class="hl-1">;</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  ): </span><span class="hl-6">Promise</span><span class="hl-1">&lt;</span><span class="hl-6">WebControllerFunction</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">logger</span><span class="hl-1"> = </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-0">logger</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-3">// Adding the bind here is required to use the state in the controller function.</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">getState</span><span class="hl-1"> = </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-0">getState</span><span class="hl-1">.</span><span class="hl-9">bind</span><span class="hl-1">(</span><span class="hl-5">this</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-5">function</span><span class="hl-1"> (</span><span class="hl-0">req</span><span class="hl-1">: </span><span class="hl-6">Request</span><span class="hl-1">, </span><span class="hl-0">res</span><span class="hl-1">: </span><span class="hl-6">Response</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-4">try</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-5">const</span><span class="hl-1"> { </span><span class="hl-8">serverStartTime</span><span class="hl-1"> } = </span><span class="hl-9">getState</span><span class="hl-1">()!;</span><br/><span class="hl-1">        </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">now</span><span class="hl-1"> = </span><span class="hl-0">Date</span><span class="hl-1">.</span><span class="hl-9">now</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">upTime</span><span class="hl-1"> = </span><span class="hl-0">now</span><span class="hl-1"> - </span><span class="hl-0">serverStartTime</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-0">res</span><span class="hl-1">.</span><span class="hl-9">json</span><span class="hl-1">({</span><br/><span class="hl-1">          </span><span class="hl-0">now</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-0">upSince:</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-0">epoch:</span><span class="hl-1"> </span><span class="hl-0">serverStartTime</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-0">date:</span><span class="hl-1"> </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-9">Date</span><span class="hl-1">(</span><span class="hl-0">serverStartTime</span><span class="hl-1">),</span><br/><span class="hl-1">          },</span><br/><span class="hl-1">          </span><span class="hl-0">upTime</span><span class="hl-1">,</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">      } </span><span class="hl-4">catch</span><span class="hl-1"> (</span><span class="hl-0">e</span><span class="hl-1">: </span><span class="hl-6">any</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-0">res</span><span class="hl-1">.</span><span class="hl-9">status</span><span class="hl-1">(</span><span class="hl-10">500</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-0">res</span><span class="hl-1">.</span><span class="hl-9">json</span><span class="hl-1">({ </span><span class="hl-0">message:</span><span class="hl-1"> </span><span class="hl-7">&quot;Internal error occurred&quot;</span><span class="hl-1"> });</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    };</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>

<h2 id="wire-up-stack-and-expose" class="tsd-anchor-link">Wire up stack and expose<a href="#wire-up-stack-and-expose" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code><span class="hl-1">./</span><span class="hl-0">app</span><span class="hl-1">.</span><span class="hl-0">ts</span><br/><span class="hl-3">// getWebservice props</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-5">interface</span><span class="hl-1"> </span><span class="hl-6">GetSampleFrontendWebserviceProps</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">serviceArgs</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-3">/** web service specific arguments **/</span><br/><span class="hl-1">    ...</span><br/><span class="hl-1">  };</span><br/><span class="hl-1">}</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-5">function</span><span class="hl-1"> </span><span class="hl-9">getWebservice</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-0">props</span><span class="hl-1">: </span><span class="hl-6">GetSampleFrontendWebserviceProps</span><span class="hl-1"> &amp; </span><span class="hl-6">any</span><span class="hl-1">,</span><br/><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">state</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-0">serverStartTime:</span><span class="hl-1"> </span><span class="hl-0">Date</span><span class="hl-1">.</span><span class="hl-9">now</span><span class="hl-1">(),</span><br/><span class="hl-1">  };</span><br/><span class="hl-1">  </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-9">SampleBackendWebService</span><span class="hl-1">({</span><br/><span class="hl-1">    ...</span><span class="hl-0">props</span><span class="hl-1">,</span><br/><span class="hl-1">    ...</span><span class="hl-0">props</span><span class="hl-1">.</span><span class="hl-0">serviceArgs</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">state</span><span class="hl-1">,</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>

<h2 id="add-entrypoint-to-packagejson" class="tsd-anchor-link">Add entrypoint to package.json<a href="#add-entrypoint-to-packagejson" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code><span class="hl-3">// package.json</span><br/><span class="hl-1">{</span><br/><span class="hl-1">  ...,</span><br/><span class="hl-1">  </span><span class="hl-7">&quot;main&quot;</span><span class="hl-1">: </span><span class="hl-7">&quot;dist/app.js&quot;</span><br/><span class="hl-1">  ...</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>

<h2 id="run" class="tsd-anchor-link">Run<a href="#run" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">install</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">run</span><span class="hl-1"> </span><span class="hl-0">build</span><br/><span class="hl-0">swerve</span>
</code><button>Copy</button></pre>

<h1 id="docs" class="tsd-anchor-link">Docs<a href="#docs" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p><a href="https://swizzyweb.github.io/swizzy-web-service/">https://swizzyweb.github.io/swizzy-web-service/</a></p>
<h1 id="sample-apps" class="tsd-anchor-link">Sample apps<a href="#sample-apps" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><h2 id="frontend-template" class="tsd-anchor-link">Frontend template<a href="#frontend-template" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p><a href="https://github.com/swizzyweb/swizzy-frontend-template-web-service">https://github.com/swizzyweb/swizzy-frontend-template-web-service</a></p>
<h2 id="backend-template" class="tsd-anchor-link">Backend template<a href="#backend-template" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p><a href="https://github.com/swizzyweb/swizzy-backend-template-web-service">https://github.com/swizzyweb/swizzy-backend-template-web-service</a></p>
<h1 id="architecture" class="tsd-anchor-link">Architecture<a href="#architecture" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>The architecture of a swizzy web service is made up of 3 layers, the WebService, Router, and Controller.</p>
<h2 id="webservice" class="tsd-anchor-link">WebService<a href="#webservice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The web service layer is the top layer of a SwizzyWebService and contains all other layers. It contains all other layers as well as the base path of the web service. The base implementation this class orchestrates the initialization of the web service when installed with swerve.</p>
<h2 id="webrouter" class="tsd-anchor-link">WebRouter<a href="#webrouter" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Web routers act as a collection of controllers that are the endpoints of the web service api. The Web router has a path that is appended to the web service path, and routes to child controllers. The controllers of a web router are injected in the base constructor of the WebRouter class.</p>
<h2 id="webcontroller" class="tsd-anchor-link">WebController<a href="#webcontroller" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Web controllers are the handler for user requests.</p>
<h2 id="middleware" class="tsd-anchor-link">#Middleware<a href="#middleware" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Middleware can be injected into any of the layers to peform request pre-processing. Common use cases are validation, authorization, logging, request parsing, and others.</p>
<h2 id="state" class="tsd-anchor-link">State<a href="#state" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>State can be injected into a SwizzyWebService to share context between routers and controllers. This is a good place to inject database clients, service clients, or any dependency that you'll need in your controllers.</p>
<h3 id="state-converter" class="tsd-anchor-link">State Converter<a href="#state-converter" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>State converters are used to transform state between each of the layers. WebRouters and WebControllers each have a state converter that takes in the parent state and transforms it to the current layers state. IE: WebServiceState -&gt; WebRouterState, WebRouterState -&gt; WebControllerState.</p>
<h1 id="notes" class="tsd-anchor-link">Notes<a href="#notes" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Tests now require node 24 as of v0.5.0</p>
<h2 id="breaking-changes" class="tsd-anchor-link">Breaking changes<a href="#breaking-changes" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>v0.6.0</p>
<ul>
<li>Upgrade express dependency to use the main 5.2.1 which removes the unuse method. Instead of using '@swizzyweb/express', just use 'express' in your swizzy web services.</li>
<li>Swerve will also need to be updated to a later version supporting using the default express package.</li>
</ul>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#swizzywebservice"><span>Swizzy<wbr/>Web<wbr/>Service</span></a><a href="#getting-started"><span>Getting <wbr/>Started</span></a><ul><li><a href="#install-via-npm"><span>Install via npm</span></a></li></ul><a href="#creating-your-first-web-service"><span>Creating your first web service</span></a><ul><li><a href="#create-web-service"><span>Create web service</span></a></li><li><a href="#create-router"><span>Create router</span></a></li><li><a href="#create-controller"><span>Create <wbr/>Controller</span></a></li><li><a href="#wire-up-stack-and-expose"><span>Wire up stack and expose</span></a></li><li><a href="#add-entrypoint-to-packagejson"><span>Add entrypoint to package.json</span></a></li><li><a href="#run"><span>Run</span></a></li></ul><a href="#docs"><span>Docs</span></a><a href="#sample-apps"><span>Sample apps</span></a><ul><li><a href="#frontend-template"><span>Frontend template</span></a></li><li><a href="#backend-template"><span>Backend template</span></a></li></ul><a href="#architecture"><span>Architecture</span></a><ul><li><a href="#webservice"><span>Web<wbr/>Service</span></a></li><li><a href="#webrouter"><span>Web<wbr/>Router</span></a></li><li><a href="#webcontroller"><span>Web<wbr/>Controller</span></a></li><li><a href="#middleware"><span>#<wbr/>Middleware</span></a></li><li><a href="#state"><span>State</span></a></li><li><ul><li><a href="#state-converter"><span>State <wbr/>Converter</span></a></li></ul></li></ul><a href="#notes"><span>Notes</span></a><ul><li><a href="#breaking-changes"><span>Breaking changes</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">@swizzyweb/swizzy-web-service</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
